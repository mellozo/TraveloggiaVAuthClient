
<link rel="stylesheet" href="css/lib/flatpickr.min.css"/>
<script src="lib/flatpickr.min.js"></script>

<div  ng-controller="SiteController as siteCtrl"  
    ng-style="scrollWindowStyle" 
    class="skyBlue"
    style="margin-left:auto;margin-right:auto;padding:0px;overflow-y:auto;-webkit-overflow-scrolling: touch;max-width:450px;" >


            <form class=" infoText listColumn"  id="SiteInfo">
               
                 <div class="cloudBlue menuText listHeader" style="text-align:center">
                    {{siteCtrl.Site.Name}}
                </div>

                <div class="form-group">
                    <div class="infoText"><b>name:</b></div>
                    <input type="text" ng-model="siteCtrl.Site.Name" class="form-control" id="Name">
                </div>



                <div  class="form-group" >
                    <div class="infoText"><b>address:</b></div>
                    <input type="text" ng-model="siteCtrl.Site.Address" class="form-control" id="Address">
                </div>


                <div class="form-group">
                    <label for="description">description:</label>
                    <textarea rows="10" ng-model="siteCtrl.Site.Description " class="form-control" id="description" />
                </div>

          

                <div class="form-group" id="Arrival">
                       <label for="Arrival">arrival:</label>
                        <div class='input-group date'>
                            <input  type="text"  class="form-control"  value="{{siteCtrl.Site.Arrival | date : 'MMM d yyyy h:m'}}"/>
                                    <span class='input-group-addon' onclick="dropIt('Arrival')">
                                            <span  class ='glyphicon glyphicon-calendar'  ></span>
                                    </span>
                        </div>
                </div>

                <div class="form-group" id="Departure">
                       <label for="Arrival">departure:</label>
                        <div class='input-group date'>
                            <input  type="text"  class="form-control"  value="{{siteCtrl.Site.Departure | date : 'MMM d yyyy h:m'}}"/>
                                    <span class='input-group-addon' onclick="dropIt('Departure')">
                                            <span  class ='glyphicon glyphicon-calendar' "></span>
                                    </span>
                        </div>
                </div>


                <div class="form-group" >
                            <div class="infoText"><b>stop no.:</b></div>
                            <input style="display:inline;width:60px;float:left"   ng-model="siteCtrl.Site.RouteIndex" class="form-control">        
                           <div class="element-container" style="float:left">
                                  <div  md-whiteframe="10" >
                                            <md-num-picker ng-model="siteCtrl.Site.RouteIndex"  min-value="0" ></md-num-picker>
                                  </div>
                           </div>   
                </div>    

                <div class="form-group" style="clear:left">
                    <label for="phone">phone:</label>
                    <input type="tel" ng-model="siteCtrl.Site.Phone" class="form-control" id="phone">
                </div>
                <div class="form-group">
                    <label for="Email">email address:</label>
                    <input type="email" ng-model="siteCtrl.Site.Email" class="form-control" id="Email">
                </div>

                <div class="form-group">
                    <label for="URL">website:</label>
                        <div class="input-group">
                            <input type="text" ng-model="siteCtrl.Site.URL" class="form-control" id="URL">
                            <span class='input-group-addon' ng-click="siteCtrl.openURL()">
                                            <img width="20" height="20" src="image/internet.png"  />
                                    </span>
                        </div>
                </div>
                <div style="margin-bottom:400px;">


                    <div ng-show="stateMachine.state=='CAN_EDIT' " style="display:inline-block;background-color:lightgray;opacity:0.6;padding:12px;border-radius:7px;">
                        <a href="" ng-click="siteCtrl.saveSite()">Save</a>
                    </div>
                        <div ng-show="stateMachine.state=='CAN_EDIT' && siteCtrl.Site.SiteID != null " style="display:inline-block;background-color:lightgray;opacity:0.6;padding:12px;border-radius:7px;" >
                          <a   href="" ng-click="siteCtrl.deleteSite()" >Delete</a>
                    </div>
             
                    
                </div>
            </form>


    <script>

    

        function dropIt(ctrl) {
            if ($("#" + ctrl)[0]._flatpickr == null)
                $("#" + ctrl).flatpickr(
                          {
                              enableTime: true,
                              allowInput: false,
                              dateFormat: 'M j Y  h:i',
                              onChange: function (selectedDates, dateStr, instance) {
                                  setDateTime(dateStr, ctrl)
                              }
                          });

                $("#"+ctrl)[0]._flatpickr.toggle();
          
        }


    </script>


</div>
